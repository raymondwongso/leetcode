package main

import "fmt"

func main() {
	nums := []int{277202, 277202, 277202, 277202, 277202, 277202, 277202, 277202, 277202, 277202, 277202, 277202, 277202, 277202, 277202, 277202, 277202, 277202, 277202, 277202, 277202, 277202, 277202, 277202, 277202, 277202, 277202, 277202, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 66463, 66463, 66463, 66463, 66463, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 524262, 524262, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803, 587803}
	fmt.Println(longestSubarray(nums))
}

// Time complexity: O(n) where n is len(nums)
// Space complexity: O(1) becauase any additional variables don't depend on input size
func longestSubarray(nums []int) int {
	start, end, max, res := 0, 0, nums[0], 1

	for i := 1; i < len(nums); i++ {
		if nums[i] < max {
			continue
		}

		if nums[i] == nums[i-1] {
			end += 1
			continue
		}

		if nums[i] == max {
			if end-start+1 > res {
				res = end - start + 1
			}
		} else {
			res = 0
		}
		max = nums[i]
		start, end = i, i
	}

	if end-start+1 > res {
		res = end - start + 1
	}

	return res
}
